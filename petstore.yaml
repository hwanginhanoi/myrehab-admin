{"openapi":"3.1.0","info":{"title":"MyRehab API","description":"API for MyRehab Matsuoka Clinic remote rehabilitation training platform","contact":{"name":"MyRehab","url":"https://myrehab.com","email":"contact@myrehab.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Patient Management","description":"APIs for managing patients by admin"},{"name":"Auth","description":"Authentication APIs"},{"name":"Course","description":"Course management APIs"}],"paths":{"/api/courses/{id}":{"get":{"tags":["Course"],"summary":"Get course by ID","operationId":"getCourseById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Course"}}}}}},"put":{"tags":["Course"],"summary":"Update an existing course","operationId":"updateCourse","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Course"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Course"}}}}}},"delete":{"tags":["Course"],"summary":"Delete a course","operationId":"deleteCourse","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/admin/patients/{id}":{"get":{"tags":["Patient Management"],"summary":"Get patient by ID","description":"Retrieves a specific patient by their ID","operationId":"getPatientById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientDTO"}}}}},"security":[{"bearer-key":[]}]},"put":{"tags":["Patient Management"],"summary":"Update a patient","description":"Updates an existing patient's information","operationId":"updatePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientDTO"}}}}},"security":[{"bearer-key":[]}]},"delete":{"tags":["Patient Management"],"summary":"Delete a patient","description":"Deletes a patient from the system","operationId":"deletePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}},"security":[{"bearer-key":[]}]}},"/api/courses":{"get":{"tags":["Course"],"summary":"Get all courses","operationId":"getAllCourses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}}}}},"post":{"tags":["Course"],"summary":"Create a new course","operationId":"createCourse","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Course"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Course"}}}}}}},"/api/auth/register":{"post":{"tags":["Auth"],"summary":"Register a new user","description":"Creates a new user account and returns a JWT token","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"summary":"Authenticate user","description":"Authenticates a user and returns a JWT token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/admin/patients":{"get":{"tags":["Patient Management"],"summary":"Get all patients","description":"Retrieves all patients in the system","operationId":"getAllPatients","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientDTO"}}}}}},"security":[{"bearer-key":[]}]},"post":{"tags":["Patient Management"],"summary":"Create a new patient","description":"Creates a new patient account","operationId":"createPatient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientDTO"}}}}},"security":[{"bearer-key":[]}]}},"/api/admin/patients/{patientId}/assign-course/{courseId}":{"post":{"tags":["Patient Management"],"summary":"Assign course to patient","description":"Assigns a course to a patient","operationId":"assignCourseToPatient","parameters":[{"name":"patientId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"courseId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientDTO"}}}}},"security":[{"bearer-key":[]}]}},"/api/courses/search":{"get":{"tags":["Course"],"summary":"Search courses by title","operationId":"searchCoursesByTitle","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}}}}}},"/api/courses/category/{categoryId}":{"get":{"tags":["Course"],"summary":"Get courses by category ID","operationId":"getCoursesByCategoryId","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}}}}}},"/api/admin/patients/search":{"get":{"tags":["Patient Management"],"summary":"Search patients","description":"Search patients by name or email","operationId":"searchPatients","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientDTO"}}}}}},"security":[{"bearer-key":[]}]}},"/api/admin/patients/{patientId}/remove-course/{courseId}":{"delete":{"tags":["Patient Management"],"summary":"Remove course from patient","description":"Removes an assigned course from a patient","operationId":"removeCourseFromPatient","parameters":[{"name":"patientId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"courseId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientDTO"}}}}},"security":[{"bearer-key":[]}]}}},"components":{"schemas":{"Category":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"type":{"type":"string","enum":["BODY_PART","RECOVERY_STAGE","HEALTH_CONDITION"]},"exercises":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"},"uniqueItems":true},"courses":{"type":"array","items":{"$ref":"#/components/schemas/Course"},"uniqueItems":true}}},"Course":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"imageUrl":{"type":"string"},"price":{"type":"number"},"exercises":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"},"uniqueItems":true},"categories":{"type":"array","items":{"$ref":"#/components/schemas/Category"},"uniqueItems":true},"assignedPatients":{"type":"array","items":{"$ref":"#/components/schemas/Patient"},"uniqueItems":true},"purchasingPatients":{"type":"array","items":{"$ref":"#/components/schemas/Patient"},"uniqueItems":true}}},"Exercise":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"imageUrl":{"type":"string"},"videoUrl":{"type":"string"},"price":{"type":"number"},"courses":{"type":"array","items":{"$ref":"#/components/schemas/Course"},"uniqueItems":true},"categories":{"type":"array","items":{"$ref":"#/components/schemas/Category"},"uniqueItems":true},"purchasingPatients":{"type":"array","items":{"$ref":"#/components/schemas/Patient"},"uniqueItems":true}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"Patient":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"password":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"role":{"type":"string","enum":["ADMIN","DOCTOR","PATIENT"]},"enabled":{"type":"boolean"},"assignedCourses":{"type":"array","items":{"$ref":"#/components/schemas/Course"},"uniqueItems":true},"purchasedCourses":{"type":"array","items":{"$ref":"#/components/schemas/Course"},"uniqueItems":true},"purchasedExercises":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"},"uniqueItems":true},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"username":{"type":"string"},"credentialsNonExpired":{"type":"boolean"}}},"CategoryDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string","minLength":1},"type":{"type":"string","enum":["BODY_PART","RECOVERY_STAGE","HEALTH_CONDITION"]}},"required":["name","type"]},"CourseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string","minLength":1},"description":{"type":"string"},"imageUrl":{"type":"string"},"price":{"type":"number"},"exercises":{"type":"array","items":{"$ref":"#/components/schemas/ExerciseDTO"},"uniqueItems":true},"categories":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDTO"},"uniqueItems":true}},"required":["price","title"]},"ExerciseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string","minLength":1},"description":{"type":"string"},"imageUrl":{"type":"string"},"videoUrl":{"type":"string"},"price":{"type":"number"},"categories":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDTO"},"uniqueItems":true}},"required":["price","title"]},"PatientDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"firstName":{"type":"string","maxLength":50,"minLength":2},"lastName":{"type":"string","maxLength":50,"minLength":2},"email":{"type":"string","minLength":1},"password":{"type":"string","maxLength":2147483647,"minLength":8},"enabled":{"type":"boolean"},"assignedCourses":{"type":"array","items":{"$ref":"#/components/schemas/CourseDTO"},"uniqueItems":true},"purchasedCourses":{"type":"array","items":{"$ref":"#/components/schemas/CourseDTO"},"uniqueItems":true},"purchasedExercises":{"type":"array","items":{"$ref":"#/components/schemas/ExerciseDTO"},"uniqueItems":true}},"required":["email","firstName","lastName"]},"RegisterRequest":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"token":{"type":"string"},"message":{"type":"string"}}},"AuthRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}}},"securitySchemes":{"bearer-key":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}